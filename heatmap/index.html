<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-heatmap">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Heatmap | Grafana Data Plane</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grafana.github.io/dataplane/heatmap"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Heatmap | Grafana Data Plane"><meta data-rh="true" name="description" content="Status: EARLY Draft/Proposal"><meta data-rh="true" property="og:description" content="Status: EARLY Draft/Proposal"><link data-rh="true" rel="icon" href="/dataplane/img/favicon.png"><link data-rh="true" rel="canonical" href="https://grafana.github.io/dataplane/heatmap"><link data-rh="true" rel="alternate" href="https://grafana.github.io/dataplane/heatmap" hreflang="en"><link data-rh="true" rel="alternate" href="https://grafana.github.io/dataplane/heatmap" hreflang="x-default"><link rel="stylesheet" href="/dataplane/assets/css/styles.bc405545.css">
<link rel="preload" href="/dataplane/assets/js/runtime~main.435f0e81.js" as="script">
<link rel="preload" href="/dataplane/assets/js/main.ac9fbd06.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dataplane/"><div class="navbar__logo"><img src="/dataplane/img/logo.svg" alt="Grafana Logo" class="themedImage_RWGG themedImage--light_riBm"><img src="/dataplane/img/logo.svg" alt="Grafana Logo" class="themedImage_RWGG themedImage--dark_Dsi0"></div><b class="navbar__title text--truncate">Grafana Data Plane</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dataplane/contract">Contract</a><a href="https://www.github.com/grafana/dataplane" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_xrOJ"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV docsWrapper_BqXd"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docPage_pOTq"><aside class="theme-doc-sidebar-container docSidebarContainer_aIKW"><div class="sidebarViewport_DwR9"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/dataplane/contract">Contract</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dataplane/contract">Technical Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dataplane/timeseries">Timeseries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dataplane/numeric">Numeric</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dataplane/logs">Logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dataplane/heatmap">Heatmap</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_fv3b"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dataplane/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Contract</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Heatmap</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Heatmap</h1><p>Status: EARLY Draft/Proposal</p><p>Heatmaps are used to show the magnitude of a phenomenon as color in two dimensions. The variation in color may give visual cues about how the phenomenon is clustered or varies over space.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="heatmap-buckets-heatmapbuckets">Heatmap buckets (HeatmapBuckets)<a href="#heatmap-buckets-heatmapbuckets" class="hash-link" aria-label="Direct link to Heatmap buckets (HeatmapBuckets)" title="Direct link to Heatmap buckets (HeatmapBuckets)">​</a></h2><p>Version: 0.0</p><p>The first field represents the X axis, the rest of the fields indicate rows in the heatmap.<br>
<!-- -->The true numeric range of each bucket can be indicated using an &quot;le&quot; label. When absent,
The field display is used for the bucket label.</p><p>Example:</p><table><tr><td><strong>Type: Time</strong><br><strong>Name: Time</strong></td><td><strong>Type: Number</strong><br><strong>Name: </strong><br><strong>Labels: {&quot;le&quot;:<em> &quot;10&quot;</em>}</strong></td><td><strong>Type: Number</strong><br><strong>Name: </strong><br><strong>Labels: {&quot;le&quot;:<em> &quot;20&quot;</em>}</strong></td><td><strong>Type: Number</strong><br><strong>Name: </strong><br><strong>Labels: {&quot;le&quot;:<em> &quot;+Inf&quot;</em>}</strong></td></tr><tr><td>2022-05-24 18:19:51</td><td>6</td><td>7</td><td>8</td></tr><tr><td>2022-05-24 18:19:51</td><td>6</td><td>7</td><td>8</td></tr><tr><td>2022-05-24 18:19:51</td><td>6</td><td>7</td><td>8</td></tr></table><p>Note: <a href="/dataplane/timeseries#time-series-wide-format-timeserieswide">Timeseries wide</a> can be used directly
as heatmap-buckets, in this case each value field becomes a row in the heatmap.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="heatmap-scanlines-heatmapscanlines">Heatmap scanlines (HeatmapScanlines)<a href="#heatmap-scanlines-heatmapscanlines" class="hash-link" aria-label="Direct link to Heatmap scanlines (HeatmapScanlines)" title="Direct link to Heatmap scanlines (HeatmapScanlines)">​</a></h2><p>Version: 0.0</p><p>In this format, each row in the frame indicates the value of a single cell in a heatmap.
There exists a row for every cell in the heatmap.</p><p><strong>Example:</strong></p><table><tr><td><strong>Type: Time</strong><br><strong>Name: xMax|xMin|x</strong></td><td><strong>Type: Number</strong><br><strong>Name: yMax|yMin|y</strong></td><td><strong>Type: Number</strong><br><strong>Name: Count</strong></td><td><strong>Type: Number</strong><br><strong>Name: Total</strong></td><td><strong>Type: Number</strong><br><strong>Name: Speed</strong></td></tr><tr><td>2022-05-24 18:19:51</td><td>100</td><td>1</td><td>1</td><td>1</td></tr><tr><td>2022-05-24 18:19:51</td><td>200</td><td>2</td><td>2</td><td>2</td></tr><tr><td>2022-05-24 18:19:51</td><td>300</td><td>3</td><td>3</td><td>3</td></tr><tr><td>2022-05-24 18:19:52</td><td>100</td><td>4</td><td>4</td><td>4</td></tr><tr><td>2022-05-24 18:19:52</td><td>200</td><td>5</td><td>5</td><td>5</td></tr><tr><td>2022-05-24 18:19:52</td><td>300</td><td>6</td><td>6</td><td>6</td></tr></table><p>This format requires uniform cell sizing. The size of the cell is defined by the columns in each row that are chosen as the xMax|xMin|x and the yMax|yMin|y. We can see that the Number column(yMax|yMin|y) increases by 100(each cell is roughly 100 higher than the previous cell on the y axis) for each row containing a similar Time value(these stacked cells all have roughly the same location along the x axis). This produces a uniform cell size.</p><p>Note that multiple &quot;value&quot; fields can included to represent multiple dimensions within the same cell.<br>
<!-- -->The first value field is used in the display, unless explicitly configured</p><p>The field names for yMax|yMin|y indicate the aggregation period or the supplied values.</p><ul><li>yMax: the values are from the bucket below</li><li>yMin: the values are from to bucket above</li><li>y: the values are in the middle of the bucket</li></ul><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="heatmap-sparse-heatmapsparse">Heatmap sparse (HeatmapSparse)<a href="#heatmap-sparse-heatmapsparse" class="hash-link" aria-label="Direct link to Heatmap sparse (HeatmapSparse)" title="Direct link to Heatmap sparse (HeatmapSparse)">​</a></h2><p>Version: 0.0</p><p>This format is similar to Heatmap scanlines, except that each cell is independent from its adjacent values.
Unlike scanlines, this allows resolutions to change over time. Where scanline has uniformity of cells over time, heatmap sparse allows for variability of cells along the x axis(Time).</p><p>Example:</p><table><tr><td><strong>Type: Time</strong><br><strong>Name: xMin</strong></td><td><strong>Type: Time</strong><br><strong>Name: xMax</strong></td><td><strong>Type: Number</strong><br><strong>Name: yMin</strong></td><td><strong>Type: Number</strong><br><strong>Name: yMax</strong></td><td><strong>Type: Number</strong><br><strong>Name: Value</strong></td></tr><tr><td>2022-05-24 18:19:51</td><td>2022-05-24 18:19:52</td><td>100</td><td>200</td><td>1</td></tr><tr><td>2022-05-24 18:19:52</td><td>2022-05-24 18:19:53</td><td>200</td><td>400</td><td>2</td></tr></table><ul><li>For high resolution with many gaps, this will require less space</li><li>This format is much less optimized for fast render and lookup than the uniform &quot;scanlines&quot; approach</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/grafana/dataplane/edit/main/docusaurus/website/../../docs/contract/heatmap.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UohW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_T23F"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/dataplane/logs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Logs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#heatmap-buckets-heatmapbuckets" class="table-of-contents__link toc-highlight">Heatmap buckets (HeatmapBuckets)</a></li><li><a href="#heatmap-scanlines-heatmapscanlines" class="table-of-contents__link toc-highlight">Heatmap scanlines (HeatmapScanlines)</a></li><li><a href="#heatmap-sparse-heatmapsparse" class="table-of-contents__link toc-highlight">Heatmap sparse (HeatmapSparse)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dataplane/contract">Contract</a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools &amp; Examples</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://grafana.com/plugins/grafana-mock-datasource" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mock Data Source Plugin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/grafana/dataplane/tree/main/examples/data" target="_blank" rel="noopener noreferrer" class="footer__link-item">Example Data Frames (JSON)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://pkg.go.dev/github.com/grafana/dataplane/examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Go Testing/Example Library<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://pkg.go.dev/github.com/grafana/dataplane/sdata" target="_blank" rel="noopener noreferrer" class="footer__link-item">Go Dataplane Library<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Other Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="hhttps://pkg.go.dev/github.com/grafana/grafana-plugin-sdk-go/data" target="_blank" rel="noopener noreferrer" class="footer__link-item">Go Plugin Data Package<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.github.com/grafana/dataplane" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.github.com/grafana/dataplane/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Grafana Labs. Built with Docusaurus.</div></div></div></footer></div>
<script src="/dataplane/assets/js/runtime~main.435f0e81.js"></script>
<script src="/dataplane/assets/js/main.ac9fbd06.js"></script>
</body>
</html>